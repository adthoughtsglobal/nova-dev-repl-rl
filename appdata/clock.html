<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<meta name="nova-icon" content="<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='37.66681' height='37.66681' viewBox='0,0,37.66681,37.66681'><defs><linearGradient x1='226.21219' y1='167.17071' x2='253.78781' y2='192.82929' gradientUnits='userSpaceOnUse' id='color-1'><stop offset='0' stop-color='#ce4c4c'/><stop offset='1' stop-color='#823030'/></linearGradient></defs><g transform='translate(-221.16659,-161.16659)'><g data-paper-data='{&quot;isPaintingLayer&quot;:true}' fill-rule='nonzero' stroke-linejoin='miter' stroke-miterlimit='10' stroke-dasharray='' stroke-dashoffset='0' style='mix-blend-mode: normal'><path d='M227.17071,193.78781c-7.61479,-7.08542 -8.04395,-19.00231 -0.95853,-26.6171c7.08542,-7.61479 19.00231,-8.04395 26.6171,-0.95853c7.61479,7.08542 8.04395,19.00231 0.95853,26.6171c-7.08542,7.61479 -19.00231,8.04395 -26.6171,0.95853z' fill='#fffcf3' stroke='url(#color-1)' stroke-width='0' stroke-linecap='butt'/><path d='M240,165.65595v3.4' fill='none' stroke='#2a2a2a' stroke-width='1' stroke-linecap='round'/><path d='M240,191.25595v3.4' fill='none' stroke='#2a2a2a' stroke-width='1' stroke-linecap='round'/><path d='M254.5,180h-3.4' fill='none' stroke='#2a2a2a' stroke-width='1' stroke-linecap='round'/><path d='M228.9,180h-3.4' fill='none' stroke='#2a2a2a' stroke-width='1' stroke-linecap='round'/><path d='M240.4,180.05595l8.4,-3.8' fill='none' stroke='#2a2a2a' stroke-width='1.5' stroke-linecap='round'/><path d='M240.08265,180.39703l-10.1653,-9.88215' fill='none' stroke='#ff5555' stroke-width='1.5' stroke-linecap='round'/><path d='M237.7,180c0,-1.27025 1.02975,-2.3 2.3,-2.3c1.27025,0 2.3,1.02975 2.3,2.3c0,1.27025 -1.02975,2.3 -2.3,2.3c-1.27025,0 -2.3,-1.02975 -2.3,-2.3z' fill='#2a2a2a' stroke='none' stroke-width='0' stroke-linecap='butt'/></g></g></svg>">
	<meta name="capabilities" content=".html, web_browser">
	<title>clock app</title>
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap');

/* width */
::-webkit-scrollbar {
	width: 0.5em;
}

/* Track */
::-webkit-scrollbar-track {
	background: #101010;
}

/* Handle */
::-webkit-scrollbar-thumb {
	background: #2b2b2b;
	border-radius: 5px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
	background: #555;
}

		* {
			margin: 0;
			padding: 0;
		}

		body {
			height: 100vh;
    display: grid;
    justify-content: center;
    background-color: #161616;
    color: white;
    width: 100%;
    padding: 1rem 0;
    margin: 0;
    font-family: 'Poppins', sans-serif;
    align-items: center;
    align-content: flex-start;
		}

		.datetime {
			display: grid;
			justify-content: center;
			align-items: center;
			color: #fff;
			background-color: #2b2b2b;
			padding: 1rem 10px;
			border-radius: 1rem;
		}

		.date {
			font-size: 20px;
			font-weight: 600;
			text-align: center;
			letter-spacing: 3px;
		}

		.time {
			font-size: 60px;
			display: flex;
			justify-content: center;
			align-items: center;
			font-family: 'Courier New', Courier, monospace;
		}

		.time span:not(:last-child) {
			position: relative;
			margin: 0 6px;
			font-weight: 600;
			text-align: center;
			letter-spacing: 3px;
		}

		.time span:last-child {
			background: #424f61;
			font-size: 30px;
			font-weight: 600;
			text-transform: uppercase;
			margin-top: 10px;
			padding: 2px 10px;
			border-radius: 10px;
		}

		.Buttons {
			display: flex;
			justify-content: space-between;
			font-size: 48px !important;
			margin-bottom: 1rem;
		}

		.but1 {
			flex-grow: 1;
			padding: 1rem 7px;
			background-color: #2b2b2b;
			color: white;
			border-radius: 1rem;
			transition: 0.2s;
			cursor: pointer;
			border: none;
			font-size: 1rem;
			font-family: inherit;
		}

		.but1:first-child {
			margin-right: 1rem;
		}

		.but1:hover {
			background-color: rgb(54, 54, 54);
		}

		[watchbox] {
			display: flex;
			width: 100%;
			align-items: center;
			overflow: hidden;
			position: relative;
			justify-content: space-evenly;
		}

		[watchbox] input {
			text-align: center;
			flex-grow: 1;
			max-width: 101px;
			font-size: 50px;
			padding: 15px 10px 15px 21px;
			border: none;
			border-radius: 1rem;
			margin: 5px;
			height: 97px;
			background-color: #2b2b2b;
			color: white;
		}

		[watchbox] button {
			display: block;
			width: 100%;
			margin: auto;
			margin-top: 30px;
			border-radius: 1rem;
			padding: 1rem;
			color: white;
			background: #2c2c2c;
			border: none;
			font-size: 1rem;
			font-family: inherit;
		}

		.timerinputs {
			display: flex;
			width: 100%;
			justify-content: space-evenly;
			flex-wrap: nowrap;
			align-items: center;
		}

		.addtimebut {
			flex-grow: 1;
			width: 100%;
			margin: 3px;
			backdrop-filter: brightness(120%);
			padding: 5px 7px;
			border-radius: 5px;
		}

		#alarmDate {
			width: fit-content;
			padding: 10px;
			border-radius: 10px;
			font-size: 1.5rem;
			/*responsive sizing*/
			background-color: #fafafa;
			border: 1px solid grey;
			outline: none;
			color: #292929;
			display: block;
			font-family: Arial, Helvetica, sans-serif;
			margin: 10px auto;
			/*center element*/
		}

		[alarmtimeinps] {
			/*get element with attribute*/
			display: flex;
			width: 80%;
			margin: auto;
		}

		[alarmtimeinps] div {
			flex-grow: 1;
			text-align: center;
		}

		[alarmtimeinps] div label {
			display: block;
			font-size: 14px;
			opacity: 70%;
		}

		[alarmtimeinps] div input {
			width: 60px;
			font-size: 2rem;
			background-color: transparent;
			backdrop-filter: brightness(75%);
			border: 1px solid grey;
			border-radius: 10px;
			color: white;
			text-align: center;
		}

		[alarmtimeinps] div select {
			width: 60px;
			font-size: 20px;
			background-color: white;
			backdrop-filter: brightness(75%);
			border: 1px solid grey;
			border-radius: 10px;
			color: #1f1f1f;
			text-align: center;
		}

		[alarmtimeinps] div input:hover,
		[alarmtimeinps] div input:focus {
			text-align: left;
			outline: none;
		}

		#alldiv {
			background-color: #1f1f1f;
			border-radius: 10px;
			padding: 5px;
			padding-bottom: 2px;
			transition: 0.2s;
			margin: 10px;
		}

		#alldiv p {
			display: block;
			border-radius: 7px;
			color: white;
			background-color: #2b2b2b;
			padding: 10px;
			margin-bottom: 5px;
		}

		@keyframes shwalarm {}

		#alldiv p date {
			opacity: 75%;
			display: block;
			font-size: 1rem;
		}

		#alldiv p time {
			display: block;
			font-size: 2rem;
		}

		#alldiv button {
			float: right;
			transform: translate(-10px, -35px);
			background-color: transparent;
			border: none;
			color: white;
			cursor: pointer;
			transition: .2s;
		}

		#alldiv button:hover {
			color: #ff4747;
		}

		#addtimebut {
			display: block;
			margin: 15px auto;
			width: fit-content;
			padding: 6px 14px;
			font-size: 30px;
			border-radius: 50%;
			background-color: dodgerblue;
			color: white;
			border: none;
			transition: .2s;
			cursor: pointer;
		}

		#addtimebut:hover {
			border-radius: 15px;
		}
	</style>
</head>

<body>

	<div class="Buttons">
		<button class="but1" onclick="CScene('time')"> Time </button>
		<button class="but1" onclick="CScene('timer')"> Timer </button>
	</div>

	<div id="time">
		<div class="datetime" id="datetime">
			<div class="date">
				<span id="dayname">Day</span>
				<span id="daynum">Month</span>
				<span id="monthnam">00</span>
				<span id="year">Year</span>
			</div>
			<div class="time">
				<span id="hour">00</span>:
				<span id="minute">00</span>:
				<span id="second">00</span>
				<span id="period">PM</span>
			</div>
		</div>
	</div>

	<div id="timer" watchbox>
		<div class="timerinputs">
			<input type="number" id="timerhour" name="textbox1" value="00" min="0" max="3600">:
			<input type="number" id="timerminute" name="textbox1" value="01" min="0" max="3600">:
			<input type="number" id="timersecond" name="textbox1" value="00" min="0" max="3600">
		</div>
		<button id="start" onclick="startTimer()">Start Countdown</button>
	</div>

	<div id="alarm">
		<div id=timebox>
			<input type="date" id="alarmDate" name="textbox1">
		</div>
		<div id=timebox alarmtimeinps>
			<div>
				<label>Hours:</label>
				<input type="number" id="alarmHour" name="inpbox1" value="18" min="0" max="23" maxlength=2>
			</div>
			<div>
				<label>Minutes:</label>
				<input type="number" id="alarmMinute" name="inpbox2" value="30" min="0" max="59" maxlength=2>
			</div>
			<div>
				<label>Seconds:</label>
				<input type="number" id="alarmSecond" name="inpbox3" value="00" min="0" max="59" maxlength=2>
			</div>
			<div>
				<label>Period:</label>
				<select id="timeSelector">
					<option value="24">24</option>
					<option value="AM">AM</option>
					<option value="PM">PM</option>
				</select>
			</div>
		</div>
		<div>
			<button id=addtimebut onclick="alarmAdd()">+</button>
		</div>
		<div id="alldiv"></div>
	</div>
	<div id="stopwatch" watchbox>
		<div class="timerinputs">
			<input type="number" id="stopwatchhour" name="textbox1" value="00" min="0" max="3600">:
			<input type="number" id="stopwatchminute" name="textbox1" value="00" min="0" max="3600">:
			<input type="number" id="stopwatchsecond" name="textbox1" value="00" min="0" max="3600">
		</div>
		<button id="startswatch" onclick="startstopwatch()">Start Stopwatch</button>
	</div>

	<script>
		greenflag();
		function greenflag() {
			initClock()
			CScene("time")
		}
		let day = [];
		let month = [];
		let year = [];
		let hour = [];
		let minute = [];
		let second = [];
		let hou = 0;

		function CScene(x) {
			document.getElementById("time").style.display = 'none';
			document.getElementById("timer").style.display = 'none';
			document.getElementById("alarm").style.display = 'none';
			document.getElementById("stopwatch").style.display = 'none';
			document.getElementById(x).style.display = 'block';
		}

		function updateClock() {
    let now = new Date();
    let dname = now.getDay(),
        mo = now.getMonth(),
        dnum = now.getDate(),
        yr = now.getFullYear(),
        hou = now.getHours(),
        min = now.getMinutes(),
        sec = now.getSeconds(),
        pe = "AM";

    // Convert to 12-hour format and set AM/PM
    if (hou == 0) {
        hou = 12; // Midnight
    } else if (hou > 12) {
        hou = hou - 12;
        pe = "PM";
    } else if (hou == 12) {
        pe = "PM"; // Noon
    }

    // Add leading zeros
    hou = hou < 10 ? "0" + hou : hou;
    min = min < 10 ? "0" + min : min;
    sec = sec < 10 ? "0" + sec : sec;

    let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    let week = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    let idk = ["dayname", "monthnam", "daynum", "year", "hour", "minute", "second", "period"];
    let value = [week[dname], months[mo], dnum, yr, hou, min, sec, pe];

    for (var i = 0; i < idk.length; i++) {
        document.getElementById(idk[i]).innerHTML = value[i];
    }
}

		function initClock() {
			updateClock();
			window.setInterval(updateClock, 1000);
		}

		let starts;
		let timerInterval;

		function startTimer() {
			if (!starts) {
				starts = !starts;
				timerInterval = setInterval(runningTimer, 1000);
			}
		}
		function runningTimer() {
			let secondsElement = document.getElementById("timersecond");
			let minutesElement = document.getElementById("timerminute");
			let hoursElement = document.getElementById("timerhour");
			let second = Number(secondsElement.value);
			let minute = Number(minutesElement.value);
			let hour = Number(hoursElement.value);
			second -= 1;
			if (second < 0) {
				second = 59;
				minute = minute - 1;
				if (minute < 0) {
					minute = 59;
					hour = hour - 1;
				}
			}
			if (hour < 0) {
				hour = 0;
				minute = 0;
				second = 0;
				if (starts) {
					ring();
					starts = false;
					clearInterval(timerInterval);
				}
			}
			hoursElement.value = hour.toString().padStart(2, '0');
			minutesElement.value = minute.toString().padStart(2, '0');
			secondsElement.value = second.toString().padStart(2, '0');
		}

		function hasDuplicateTime(Dat, Mon, yea, fixhou, min, sec) {
			let arrysize = day.length;
			for (let i = 0; i < arrysize; i++) {
				let currentDate = new Date(year[i], month[i] - 1, day[i], hour[i], minute[i], second[i]);
				let inputDate = new Date(yea, Mon - 1, Dat, hou, min, sec);
				if (currentDate.getTime() === inputDate.getTime()) {
					return true;
				}
			}
			return false; // This is the correct place for the return statement
		}

		function alarmAdd() {
			let dateInput = document.getElementById("alarmDate").value;
			let [yea, Mon, Dat] = dateInput.split('-');
			let period = document.getElementById("timeSelector").value;
			let fixhou = parseInt(document.getElementById("alarmHour").value, 10);
			let min = document.getElementById("alarmMinute").value;
			let sec = document.getElementById("alarmSecond").value;
			if (period === "AM" || period === "PM" && fixhou > 12) {
				alert("Invalid time format. Please enter a valid time in the format 'HH:MM:SS AM/PM'.");
				return;
			}
			if (period === "24") {
				hou = fixhou;
			}
			if (period === "AM" && fixhou < 12) {
				hou = fixhou;
			}
			if (period === "PM" && fixhou === 12) {
				hou = fixhou;
			}
			if (period === "PM" && fixhou < 12) {
				hou = fixhou + 12;
			}
			if (period === "AM" && fixhou === 12) {
				hou = 0;
			}
			if (!hasDuplicateTime(Dat, Mon, yea, hou, min, sec)) {
				var lineEdit = document.createElement("input");
				var myLabel = document.createElement('label');
				var container = document.createElement('p');
				var deleteButton = document.createElement('button');
				lineEdit.style.fontSize = "18px";
				lineEdit.type = "text";
				lineEdit.id = "dynamicLineEdit";
				lineEdit.placeholder = "Alarm Name";
				lineEdit.style.margin = "10px";
				myLabel.innerHTML = "<time>" + hou + ":" + min + ":" + sec + "</time> <date>" + Dat + "/" + Mon + "/" + yea + "</date>";
				myLabel.setAttribute('for', 'myInput');
				deleteButton.textContent = 'Delete';
				deleteButton.addEventListener('click', function () {
					removeTime(Dat, Mon, yea, hou, min, sec);
					container.remove();
				});
				container.appendChild(lineEdit);
				container.appendChild(myLabel);
				container.appendChild(deleteButton);
				document.body.appendChild(container);
				var alldiv = document.getElementById("alldiv");
				alldiv.appendChild(container);
				day.push(Dat);
				month.push(Mon);
				year.push(yea);
				hour.push(hou);
				minute.push(min);
				second.push(sec);
			} else {
				alert('Duplicate time! Please choose a different date.');
			}
		}

		function removeTime(Dat, Mon, yea, hou, min, sec) {
			let indexToRemove = -1;
			for (let i = 0; i < day.length; i++) {
				if (
					day[i] === Dat &&
					month[i] === Mon &&
					year[i] === yea &&
					hour[i] === hou &&
					minute[i] === min &&
					second[i] === sec
				) {
					indexToRemove = i;
					break;
				}
			}

			if (indexToRemove !== -1) {
				day.splice(indexToRemove, 1);
				month.splice(indexToRemove, 1);
				year.splice(indexToRemove, 1);
				hour.splice(indexToRemove, 1);
				minute.splice(indexToRemove, 1);
				second.splice(indexToRemove, 1);
			}
		}

		function alarm() {
			let now = new Date();
			let dy = now.getDate();
			let mo = now.getMonth() + 1;
			let yr = now.getFullYear();
			let hu = now.getHours();
			let mi = now.getMinutes();
			let se = now.getSeconds();
			let n = day.length;
			for (let i = 0; i < n; i++) {
				if (day[i] == dy && month[i] == mo && year[i] == yr && hour[i] == hu && minute[i] == mi && second[i] == se) {
					ring();
				}
			}
		}
		setInterval(alarm, 1000);

		function ring() {
			let audio = new Audio("https://www.fesliyanstudios.com/play-mp3/4385");
			audio.play();
		}

		document.getElementById('alarmDate').valueAsDate = new Date();

		const now = new Date();

		document.getElementById('alarmHour').value = now.getHours();
		document.getElementById('alarmMinute').value = now.getMinutes();
		document.getElementById('alarmSecond').value = now.getSeconds();

		document.getElementById("start").addEventListener("click", startTimer);

		// stopwatch
		let isRunning = false;
		let stopwatchInterval;

		function startstopwatch() {
			document.getElementById("startswatch").innerText = "Stop Stopwatch"; document.getElementById("startswatch").setAttribute('onclick', "resetStopwatch()");
			if (!isRunning) {
				isRunning = true;
				stopwatchInterval = setInterval(updateStopwatch, 1000);
			} else {
				isRunning = false;
				clearInterval(stopwatchInterval);
			}
		}

		function resetStopwatch() {
			clearInterval(stopwatchInterval);
			isRunning = false;
			document.getElementById("stopwatchhour").value = "00";
			document.getElementById("stopwatchminute").value = "00";
			document.getElementById("stopwatchsecond").value = "00";
			document.getElementById("startswatch").innerText = "Start Stopwatch"; document.getElementById("startswatch").setAttribute('onclick', "startstopwatch()");
		}

		function updateStopwatch() {
			let secondsElement = document.getElementById("stopwatchsecond");
			let minutesElement = document.getElementById("stopwatchminute");
			let hoursElement = document.getElementById("stopwatchhour");

			let second = Number(secondsElement.value);
			let minute = Number(minutesElement.value);
			let hour = Number(hoursElement.value);

			second += 1;
			if (second === 60) {
				second = 0;
				minute += 1;
				if (minute === 60) {
					minute = 0;
					hour += 1;
					if (hour === 24) {
						hour = 0;
					}
				}
			}

			hoursElement.value = hour.toString().padStart(2, '0');
			minutesElement.value = minute.toString().padStart(2, '0');
			secondsElement.value = second.toString().padStart(2, '0');
		}

	</script>
</body>

</html>